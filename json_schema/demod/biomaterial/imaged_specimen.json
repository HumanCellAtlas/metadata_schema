{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://schema.dev.data.humancellatlas.org/type/biomaterial/2.0.4/imaged_specimen",
    "description": "Information about a tissue specimen after it has been sectioned and prepared for imaging.",
    "additionalProperties": false,
    "required": [
        "describedBy",
        "schema_type",
        "biomaterial_core",
        "slice_thickness"
    ],
    "title": "Imaged specimen",
    "name": "imaged_specimen",
    "type": "object",
    "properties": {
        "describedBy": {
            "description": "The URL reference to the schema.",
            "type": "string",
            "pattern": "^(http|https)://schema.(.*?)humancellatlas.org/type/biomaterial/(([0-9]{1,}.[0-9]{1,}.[0-9]{1,})|([a-zA-Z]*?))/imaged_specimen"
        },
        "schema_version": {
            "description": "The version number of the schema in major.minor.patch format.",
            "type": "string",
            "pattern": "^[0-9]{1,}.[0-9]{1,}.[0-9]{1,}$",
            "example": "4.6.1"
        },
        "schema_type": {
            "description": "The type of the metadata schema entity.",
            "type": "string",
            "enum": [
                "biomaterial"
            ]
        },
        "provenance": {
            "description": "Provenance information added or generated at time of ingest.",
            "required": [
                "document_id",
                "submission_date"
            ],
            "title": "Provenance",
            "name": "provenance",
            "type": "object",
            "properties": {
                "submission_date": {
                    "description": "When project was first submitted to database.",
                    "type": "string",
                    "format": "date-time"
                },
                "submitter_id": {
                    "description": "ID of individual who first submitted project.",
                    "type": "string"
                },
                "update_date": {
                    "description": "When project was last updated.",
                    "type": "string",
                    "format": "date-time"
                },
                "updater_id": {
                    "description": "ID of individual who last updated project.",
                    "type": "string"
                },
                "document_id": {
                    "description": "Identifier for document.",
                    "type": "string",
                    "pattern": ".{8}-.{4}-.{4}-.{4}-.{12}",
                    "comment": "This structure supports the current ingest API. It may change in the future."
                },
                "accession": {
                    "description": "A unique accession for this entity, provided by the broker.",
                    "type": "string"
                }
            }
        },
        "biomaterial_core": {
            "description": "Information about any biological material that was generated/used in the project including everything from a whole organism to subcellular components.",
            "required": [
                "biomaterial_id",
                "ncbi_taxon_id"
            ],
            "title": "Biomaterial core",
            "name": "biomaterial_core",
            "type": "object",
            "properties": {
                "biomaterial_id": {
                    "description": "A unique ID for the biomaterial.",
                    "type": "string",
                    "user_friendly": "Biomaterial ID"
                },
                "biomaterial_name": {
                    "description": "A short, descriptive name for the biomaterial that need not be unique.",
                    "type": "string",
                    "user_friendly": "Biomaterial name"
                },
                "biomaterial_description": {
                    "description": "A general description of the biomaterial.",
                    "type": "string",
                    "user_friendly": "Biomaterial description"
                },
                "ncbi_taxon_id": {
                    "description": "A taxonomy ID (taxonID) from NCBI.",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    },
                    "user_friendly": "NCBI taxon ID",
                    "example": 9606
                },
                "genotype": {
                    "description": "Genotype of the biomaterial.",
                    "type": "string",
                    "user_friendly": "Genotype",
                    "example": "DRB1 0401 protective allele; HLA-B*3901 allele"
                },
                "supplementary_files": {
                    "description": "A list of filenames of biomaterial-level supplementary files.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "user_friendly": "Supplementary files"
                },
                "biosd_biomaterial": {
                    "description": "A BioSamples ID.",
                    "type": "string",
                    "pattern": "^SAM(D|N|E([AG]?))[0-9]+$",
                    "user_friendly": "BioSamples ID",
                    "example": "SAMN00000000",
                    "guidelines": "Enter ID if sample has been archived. ID can be from the DDBJ, NCBI, or EMBL-EBI and must start with SAMD, SAMN, or SAME, respectively."
                },
                "insdc_biomaterial": {
                    "description": "An International Nucleotide Sequence Database Collaboration (INSDC) sample accession.",
                    "type": "string",
                    "pattern": "^[D|E|S]RS[0-9]+$",
                    "user_friendly": "INSDC ID",
                    "example": "SRS0000000",
                    "guidelines": "Enter accession if sample has been archived. Accession can be from the DDBJ, NCBI, or EMBL-EBI and must start with DRS, SRS, or ERS, respecitvely."
                }
            }
        },
        "overview_images": {
            "description": "List of filenames of photographs of specimen.",
            "type": "array",
            "items": {
                "pattern": "^.*.jpg$|^.*.jpeg$|^.*.tiff$|^.*.png$",
                "type": "string"
            },
            "user_friendly": "Gross image",
            "example": "my_image_file.jpg, overview_image.tiff",
            "guidelines": "Must be of format JPEG, TIFF, or PNG."
        },
        "slice_thickness": {
            "description": "Thickness of the imaged slice in micrometres.",
            "type": "number",
            "example": "14",
            "user_friendly": "Imaged slice thickness"
        },
        "internal_anatomical_structures": {
            "description": "Internal (landmark) structures visible in the overview image that are informative about the broader anatomical context/location of the sample.",
            "type": "array",
            "items": {
                "description": "A term that may be associated with an anatomy-related ontology term",
                "required": [
                    "text"
                ],
                "title": "Organ part ontology",
                "name": "organ_part_ontology",
                "type": "object",
                "properties": {
                    "text": {
                        "description": "The text for the term as the user provides it.",
                        "type": "string",
                        "user_friendly": "Organ part",
                        "example": "bone marrow; islet of Langerhans"
                    },
                    "ontology": {
                        "description": "A term for a specific part of an organ from the ontology [UBERON](https://www.ebi.ac.uk/ols/ontologies/uberon).",
                        "type": "string",
                        "graph_restriction": {
                            "ontologies": [
                                "obo:hcao",
                                "obo:uberon"
                            ],
                            "classes": [
                                "UBERON:0000465"
                            ],
                            "relations": [
                                "rdfs:subClassOf"
                            ],
                            "direct": false,
                            "include_self": true
                        },
                        "user_friendly": "Organ part ontology ID",
                        "example": "UBERON:0002371; UBERON:0000006"
                    },
                    "ontology_label": {
                        "description": "The preferred label for the ontology term referred to in the ontology field. This may differ from the user-supplied value in the text field",
                        "type": "string",
                        "user_friendly": "Organ part ontology label",
                        "example": "bone marrow; islet of Langerhans"
                    }
                }
            },
            "user_friendly": "Internal tissue structures"
        }
    }
}